import{r as l,j as e}from"./main-CRtbsAq3.js";function u({onAddTask:n}){const[t,d]=l.useState("");return e.jsxs(e.Fragment,{children:[e.jsx("input",{placeholder:"Add task",value:t,onChange:s=>d(s.target.value)}),e.jsx("button",{disabled:!t.trim(),onClick:()=>n(t.trim()),children:"Add"})]})}function c({tasks:n,onChangeTask:t,onDeleteTask:d}){return e.jsx("ul",{children:n.map(s=>e.jsx("li",{children:e.jsx(o,{task:s,onChangeTask:t,onDeleteTask:d})},s.id))})}function o({task:n,onChangeTask:t,onDeleteTask:d}){const[s,r]=l.useState(!1);let i=s?e.jsxs(e.Fragment,{children:[e.jsx("input",{value:n.text,onChange:a=>t({...n,text:a.target.value})}),e.jsx("button",{onClick:()=>r(!1),children:"Save"})]}):e.jsxs(e.Fragment,{children:[n.text,e.jsx("button",{onClick:()=>r(!0),children:"Edit"})]});return e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:n.done,onChange:a=>t({...n,done:a.target.checked})}),i,e.jsx("button",{onClick:()=>d(n.id),children:"Delete"})]})}let x=3;const h=[{id:0,text:"Visit Kafka Museum",done:!0},{id:1,text:"Watch a puppet show",done:!1},{id:2,text:"Lennon Wall pic",done:!1}];function f(){const[n,t]=l.useReducer(p,h);function d(i){t({type:"added",id:x++,text:i})}function s(i){t({type:"changed",task:i})}function r(i){t({type:"deleted",id:i})}return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Prague itinerary"}),e.jsx(u,{onAddTask:d}),e.jsx(c,{tasks:n,onChangeTask:s,onDeleteTask:r})]})}function p(n,t){switch(t.type){case"added":return[...n,{id:t.id,text:t.text,done:!1}];case"changed":return n.map(d=>d.id===t.task.id?t.task:d);case"deleted":return n.filter(d=>d.id!==t.id);default:throw Error("Unknown action: "+t.type)}}export{f as default};
