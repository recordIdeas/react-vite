import{r as l,j as e}from"./main-DhGy7tgL.js";function c({onAddTask:n}){const[t,d]=l.useState("");return e.jsxs(e.Fragment,{children:[e.jsx("input",{placeholder:"Add task",value:t,onChange:s=>d(s.target.value)}),e.jsx("button",{disabled:!t.trim(),onClick:()=>n(t.trim()),children:"Add"})]})}function o({tasks:n,onChangeTask:t,onDeleteTask:d}){return e.jsx("ul",{children:n.map(s=>e.jsx("li",{children:e.jsx(u,{task:s,onChangeTask:t,onDeleteTask:d})},s.id))})}function u({task:n,onChangeTask:t,onDeleteTask:d}){const[s,a]=l.useState(!1);let i=s?e.jsxs(e.Fragment,{children:[e.jsx("input",{value:n.text,onChange:r=>t({...n,text:r.target.value})}),e.jsx("button",{onClick:()=>a(!1),children:"Save"})]}):e.jsxs(e.Fragment,{children:[n.text,e.jsx("button",{onClick:()=>a(!0),children:"Edit"})]});return e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:n.done,onChange:r=>t({...n,done:r.target.checked})}),i,e.jsx("button",{onClick:()=>d(n.id),children:"Delete"})]})}let x=3;const h=[{id:0,text:"Visit Kafka Museum",done:!0},{id:1,text:"Watch a puppet show",done:!1},{id:2,text:"Lennon Wall pic",done:!1}];function j(){const[n,t]=l.useImmerReducer(k,h);function d(i){t({type:"added",id:x++,text:i})}function s(i){t({type:"changed",task:i})}function a(i){t({type:"deleted",id:i})}return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Prague itinerary"}),e.jsx(c,{onAddTask:d}),e.jsx(o,{tasks:n,onChangeTask:s,onDeleteTask:a})]})}function k(n,t){switch(t.type){case"added":{n.push({id:t.id,text:t.text,done:!1});break}case"changed":{const d=n.findIndex(s=>s.id===t.task.id);n[d]=t.task;break}case"deleted":return n.filter(d=>d.id!==t.id);default:throw Error("Unknown action: "+t.type)}}export{j as default};
